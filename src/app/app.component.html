<div id="app">
  <nav class="navbar navbar-expand navbar-light bg-light">
    <ul class="navbar-nav" routerLinkActive="active" *ngIf="isLoggedIn">
      <li class="nav-item">
        <a href="/home" class="nav-link" routerLink="home">My work items </a>
      </li>
    </ul>

    <ul class="navbar-nav" routerLinkActive="active" *ngIf="isLoggedIn">
      <li class="nav-item">
        <a href="/release" class="nav-link" routerLink="release"
          >Release items
        </a>
      </li>
    </ul>

    <ul class="navbar-nav" *ngIf="isLoggedIn">
      <li class="nav-item mx-3">
        User: <b>{{ username }}</b>
      </li>
      <li class="nav-item mx-3">
        Server: <b>{{ server }}</b>
      </li>
    </ul>
    <ul class="navbar-nav" *ngIf="isLoggedIn"></ul>

    <ul class="navbar-nav ml-auto" routerLinkActive="active" *ngIf="isLoggedIn">
      <li class="nav-item">
        <mat-form-field color="accent">
          <mat-placeholder>Search task</mat-placeholder>
          <input matInput type="search" [(ngModel)]="taskId" />
          <button
            mat-button
            matSuffix
            mat-stroked-button
            aria-label="search"
            color="accent"
            (click)="modalService.open()"
          >
            <mat-icon>search</mat-icon>
          </button>
        </mat-form-field>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto" *ngIf="isLoggedIn">
      <li class="nav-item">
        <a href class="nav-link" (click)="logout()">LogOut</a>
      </li>
    </ul>
  </nav>

  <div class="container">
    <app-modal *ngIf="modalService.isVisible$ | async" title="Create new Task">
      <app-task [taskId]="taskId"></app-task>
    </app-modal>

    <router-outlet></router-outlet>
  </div>
</div>
